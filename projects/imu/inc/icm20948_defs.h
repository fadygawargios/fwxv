#pragma once

#define READ 0x80
#define WRITE 0x7F

typedef enum {
  ICM20948_ID = 0xEA,
  AK09916_ID = 0x09,
  MAG_SLAVE_ADDR = 0x0C,
  REG_BANK_SEL = 0x7F,

  // User Bank 0
  AGB0_REG_WHO_AM_I = 0x00,
  AGB0_REG_USER_CTRL = 0x03,
  AGB0_REG_LP_CONFIG = 0x05,
  AGB0_REG_PWR_MGMT_1 = 0x06,
  AGB0_REG_PWR_MGMT_2 = 0x07,
  AGB0_REG_INT_PIN_CONFIG = 0x0F,
  AGB0_REG_INT_ENABLE = 0x10,
  AGB0_REG_INT_ENABLE_1 = 0x11,
  AGB0_REG_INT_ENABLE_2 = 0x12,
  AGB0_REG_INT_ENABLE_3 = 0x13,
  AGB0_REG_I2C_MST_STATUS = 0x17,
  AGB0_REG_INT_STATUS = 0x19,
  AGB0_REG_INT_STATUS_1 = 0x1A,
  AGB0_REG_INT_STATUS_2 = 0x1B,
  AGB0_REG_INT_STATUS_3 = 0x1C,
  AGB0_REG_DELAY_TIMEH = 0x28,
  AGB0_REG_DELAY_TIMEL = 0x29,
  AGB0_REG_ACCEL_XOUT_H = 0x2D,
  AGB0_REG_ACCEL_XOUT_L = 0x2E,
  AGB0_REG_ACCEL_YOUT_H = 0x2F,
  AGB0_REG_ACCEL_YOUT_L = 0x30,
  AGB0_REG_ACCEL_ZOUT_H = 0x31,
  AGB0_REG_ACCEL_ZOUT_L = 0x32,
  AGB0_REG_GYRO_XOUT_H = 0x33,
  AGB0_REG_GYRO_XOUT_L = 0x34,
  AGB0_REG_GYRO_YOUT_H = 0x35,
  AGB0_REG_GYRO_YOUT_L = 0x36,
  AGB0_REG_GYRO_ZOUT_H = 0x37,
  AGB0_REG_GYRO_ZOUT_L = 0x38,
  AGB0_REG_TEMP_OUT_H = 0x39,
  AGB0_REG_TEMP_OUT_L = 0x3A,
  AGB0_REG_EXT_SLV_SENS_DATA_00 = 0x3B,
  AGB0_REG_EXT_SLV_SENS_DATA_01 = 0x3C,
  AGB0_REG_EXT_SLV_SENS_DATA_02 = 0x3D,
  AGB0_REG_EXT_SLV_SENS_DATA_03 = 0x3E,
  AGB0_REG_EXT_SLV_SENS_DATA_04 = 0x3F,
  AGB0_REG_EXT_SLV_SENS_DATA_05 = 0x40,
  AGB0_REG_EXT_SLV_SENS_DATA_06 = 0x41,
  AGB0_REG_EXT_SLV_SENS_DATA_07 = 0x42,
  AGB0_REG_EXT_SLV_SENS_DATA_08 = 0x43,
  AGB0_REG_EXT_SLV_SENS_DATA_09 = 0x44,
  AGB0_REG_EXT_SLV_SENS_DATA_10 = 0x45,
  AGB0_REG_EXT_SLV_SENS_DATA_11 = 0x46,
  AGB0_REG_EXT_SLV_SENS_DATA_12 = 0x47,
  AGB0_REG_EXT_SLV_SENS_DATA_13 = 0x48,
  AGB0_REG_EXT_SLV_SENS_DATA_14 = 0x49,
  AGB0_REG_EXT_SLV_SENS_DATA_15 = 0x4A,
  AGB0_REG_EXT_SLV_SENS_DATA_16 = 0x4B,
  AGB0_REG_EXT_SLV_SENS_DATA_17 = 0x4C,
  AGB0_REG_EXT_SLV_SENS_DATA_18 = 0x4D,
  AGB0_REG_EXT_SLV_SENS_DATA_19 = 0x4E,
  AGB0_REG_EXT_SLV_SENS_DATA_20 = 0x4F,
  AGB0_REG_EXT_SLV_SENS_DATA_21 = 0x50,
  AGB0_REG_EXT_SLV_SENS_DATA_22 = 0x51,
  AGB0_REG_EXT_SLV_SENS_DATA_23 = 0x52,
  AGB0_REG_FIFO_EN_1 = 0x66,
  AGB0_REG_FIFO_EN_2 = 0x67,
  AGB0_REG_FIFO_MODE = 0x69,
  AGB0_REG_FIFO_COUNT_H = 0x70,
  AGB0_REG_FIFO_COUNT_L = 0x71,
  AGB0_REG_FIFO_R_W = 0x72,
  AGB0_REG_DATA_RDY_STATUS = 0x74,
  AGB0_REG_FIFO_CFG = 0x76,
  AGB0_REG_MEM_START_ADDR = 0x7C,
  AGB0_REG_MEM_R_W = 0x7D,
  AGB0_REG_MEM_BANK_SEL = 0x7E,
  AGB0_REG_REG_BANK_SEL = 0x7F,

  // User Bank 1
  AGB1_REG_SELF_TEST_X_GYRO = 0x02,
  AGB1_REG_SELF_TEST_Y_GYRO = 0x03,
  AGB1_REG_SELF_TEST_Z_GYRO = 0x04,
  AGB1_REG_SELF_TEST_X_ACCEL = 0x0E,
  AGB1_REG_SELF_TEST_Y_ACCEL = 0x0F,
  AGB1_REG_SELF_TEST_Z_ACCEL = 0x10,
  AGB1_REG_XA_OFFS_H = 0x14,
  AGB1_REG_XA_OFFS_L = 0x15,
  AGB1_REG_YA_OFFS_H = 0x17,
  AGB1_REG_YA_OFFS_L = 0x18,
  AGB1_REG_ZA_OFFS_H = 0x1A,
  AGB1_REG_ZA_OFFS_L = 0x1B,
  AGB1_REG_TIMEBASE_CORRECTION_PLL = 0x28,
  AGB1_REG_REG_BANK_SEL = 0x7F,

  // User Bank 2
  AGB2_REG_GYRO_SMPLRT_DIV = 0x00,
  AGB2_REG_GYRO_CONFIG_1 = 0x01,
  AGB2_REG_GYRO_CONFIG_2 = 0x02,
  AGB2_REG_XG_OFFS_USRH = 0x03,
  AGB2_REG_XG_OFFS_USRL = 0x04,
  AGB2_REG_YG_OFFS_USRH = 0x05,
  AGB2_REG_YG_OFFS_USRL = 0x06,
  AGB2_REG_ZG_OFFS_USRH = 0x07,
  AGB2_REG_ZG_OFFS_USRL = 0x08,
  AGB2_REG_ODR_ALIGN_EN = 0x09,
  AGB2_REG_ACCEL_SMPLRT_DIV_1 = 0x10,
  AGB2_REG_ACCEL_SMPLRT_DIV_2 = 0x11,
  AGB2_REG_ACCEL_INTEL_CTRL = 0x12,
  AGB2_REG_ACCEL_WOM_THR = 0x13,
  AGB2_REG_ACCEL_CONFIG_1 = 0x14,
  AGB2_REG_ACCEL_CONFIG_2 = 0x15,
  AGB2_REG_FSYNC_CONFIG = 0x52,
  AGB2_REG_TEMP_CONFIG = 0x53,
  AGB2_REG_MOD_CTRL_USR = 0x54,
  AGB2_REG_REG_BANK_SEL = 0x7F,

  // User Bank 3
  AGB3_REG_I2C_MST_ODR_CONFIG = 0x00,
  AGB3_REG_I2C_MST_CTRL = 0x01,
  AGB3_REG_I2C_MST_DELAY_CTRL = 0x02,
  AGB3_REG_I2C_SLV0_ADDR = 0x03,
  AGB3_REG_I2C_SLV0_REG = 0x04,
  AGB3_REG_I2C_SLV0_CTRL = 0x05,
  AGB3_REG_I2C_SLV0_DO = 0x06,
  AGB3_REG_I2C_SLV1_ADDR = 0x07,
  AGB3_REG_I2C_SLV1_REG = 0x08,
  AGB3_REG_I2C_SLV1_CTRL = 0x09,
  AGB3_REG_I2C_SLV1_DO = 0x0A,
  AGB3_REG_I2C_SLV2_ADDR = 0x0B,
  AGB3_REG_I2C_SLV2_REG = 0x0C,
  AGB3_REG_I2C_SLV2_CTRL = 0x0D,
  AGB3_REG_I2C_SLV2_DO = 0x0E,
  AGB3_REG_I2C_SLV3_ADDR = 0x0F,
  AGB3_REG_I2C_SLV3_REG = 0x10,
  AGB3_REG_I2C_SLV3_CTRL = 0x11,
  AGB3_REG_I2C_SLV3_DO = 0x12,
  AGB3_REG_I2C_SLV4_ADDR = 0x13,
  AGB3_REG_I2C_SLV4_REG = 0x14,
  AGB3_REG_I2C_SLV4_CTRL = 0x15,
  AGB3_REG_I2C_SLV4_DO = 0x16,
  AGB3_REG_I2C_SLV4_DI = 0x17,
  AGB3_REG_REG_BANK_SEL = 0x7F,

  // Magnetometer
  M_REG_WIA2 = 0x01,
  M_REG_ST1 = 0x10,
  M_REG_HXL = 0x11,
  M_REG_HXH = 0x12,
  M_REG_HYL = 0x13,
  M_REG_HYH = 0x14,
  M_REG_HZL = 0x15,
  M_REG_HZH = 0x16,
  M_REG_ST2 = 0x18,
  M_REG_CNTL2 = 0x31,
  M_REG_CNTL3 = 0x32,
  M_REG_TS1 = 0x33,
  M_REG_TS2 = 0x34
} icm20948_registers;

// Bank switching sequences
#define SET_BANK_0_WRITE \
  { REG_BANK_SEL, 0x00 }
#define SET_BANK_1_WRITE \
  { REG_BANK_SEL, 0x10 }
#define SET_BANK_2_WRITE \
  { REG_BANK_SEL, 0x20 }
#define SET_BANK_3_WRITE \
  { REG_BANK_SEL, 0x30 }
